
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
--              SAMPLE DATA                
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------

CREATE TABLE edge_table (
    id serial,
    dir character varying,
    source integer,
    target integer,
    cost double precision,
    reverse_cost double precision,
    x1 double precision,
    y1 double precision,
    x2 double precision,
    y2 double precision,
    to_cost double precision,
    rule text,
    the_geom geometry(Linestring)
);
CREATE TABLE vertex_table (
    id serial,
    x double precision,
    y double precision
);

INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  2,0,   2,1);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ('TF',-1, 1,  2,1,   3,1);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ('TF',-1, 1,  3,1,   4,1);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  2,1,   2,2);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ('FT', 1,-1,  3,1,   3,2);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  0,2,   1,2);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  1,2,   2,2);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  2,2,   3,2);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  3,2,   4,2);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  2,2,   2,3);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ('FT', 1,-1,  3,2,   3,3);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ('FT', 1,-1,  2,3,   3,3);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ('FT', 1,-1,  3,3,   4,3);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  2,3,   2,4);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  4,2,   4,3);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  4,1,   4,2);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  0.5,3.5,  1.999999999999,3.5);
INSERT INTO edge_table (dir,cost,reverse_cost,x1,y1,x2,y2) VALUES ( 'B', 1, 1,  3.5,2.3,  3.5,4);

UPDATE edge_table SET the_geom = st_makeline(st_point(x1,y1),st_point(x2,y2));

INSERT INTO vertex_table VALUES
        (1,2,0), (2,2,1), (3,3,1), (4,4,1), (5,0,2), (6,1,2), (7,2,2),
        (8,3,2), (9,4,2), (10,2,3), (11,3,3), (12,4,3), (13,2,4);
select pgr_createTopology('edge_table',0.001);
