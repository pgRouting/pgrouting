SET(LIBRARY_OUTPUT_PATH ../../../lib/)
LINK_LIBRARIES(${GAUL_LIBRARIES} ${GAUL_UTIL_LIBRARIES})
ADD_LIBRARY(routing_ksp SHARED BaseGraph.cpp BaseGraph.h BasePath.cpp BasePath.h DijkstraShortestPathAlg.cpp DijkstraShortestPathAlg.h DynamicGraph.h Graph.cpp GraphElements.h Graph.h HeaderTest.cpp TGraph.h TPath.h YenTopKShortestPathsAlg.cpp YenTopKShortestPathsAlg.h ksp.c KSPDriver.cpp KSPGraph.h KSPGraph.cpp )
IF(WIN32)
  IF(MSVC)
    SET_TARGET_PROPERTIES(routing_ksp PROPERTIES COMPILE_FLAGS "-DHAVE_GETHOSTNAME")
  ELSE(MSVC)
    SET_TARGET_PROPERTIES(routing_ksp PROPERTIES COMPILE_FLAGS "-DBUILDING_DLL")
    SET_TARGET_PROPERTIES(routing_ksp PROPERTIES LINK_FLAGS -Wl,--export-all-symbols)
  ENDIF(MSVC)
ENDIF(WIN32)
MESSAGE("Installation directory for libraries is set to ${LIBRARY_INSTALL_PATH}")
INSTALL(TARGETS routing_ksp DESTINATION ${LIBRARY_INSTALL_PATH})

